{% extends "layout.njk" %}

{% block content %}
<div class="card">

    <section 
    class="avatar" 
    style="background: url({{student.avatar_url}}) no-repeat center center / cover">
    </section>

    <section class="details">
        <h3>Detalhes</h3>

        <div class="item">
            <div>Nome completo</div>
            <div>{{student.name}}</div>
        </div>

        <div class="item">
            <div>E-mail</div>
            <div>{{student.email}}</div>
        </div>

        <div class="item">
            <div>Aniversário</div>
            <div>{{student.birth}}</div>
        </div>

        <div class="item">
            <div>Ano Escolar</div>
            <div>{{student.year}}</div>
        </div>

        <div class="item">
            <div>Carga horária semanal</div>
            <div>{{student.hours}}</div>
        </div>

        <div class="buttons">

            <a href="/students/{{student.id}}/edit" class="button">Editar cadastro</a>

            <form id="delete" class="details" action="/students?_method=DELETE" method="POST">

                    <input 
                        type="hidden" 
                        name="id" 
                        value="{{student.id}}"
                    >

                    <button class="delete" type="submit">Deletar</button>

            </form>
        </div>

    </section>

    <script>

        const formDelete = document.querySelector("#delete")
        formDelete.addEventListener("submit", function(event){
            const confirmation = confirm("Deseja Deletar?")
            if(!confirmation){
                event.preventDefault()
            }
        })

    </script>

</div>
{% endblock content %}